---
layout:     post
title:      "vim 小抄"
subtitle:   "vim cheat sheet"
date:       2021-06-28 16:44:00
author:     "kgzhang"
catalog: false
header-style: text
tags:
  - vim
  - tool
---
## vim 打开多个文件
打开多个文件，并且使用不同的窗口显示
+ 小写的o表示水平分屏
+ 大写的O表示垂直分屏
```shell
vim -o/O a.sh b.sh
```

在 vim 编辑器内打开多个文件并分屏：
+ `:new <fileName>`

窗口切换快捷键：`ctrl + ww`


## 配置

查看 vim 版本：`vim --verison`

### macos 下 vim 配置
Macos 自带的 vim 功能残缺不全与 Linux 下的 vim 体验不一致。

使用 `brew install vim` 安装 linux 下的 vim。

Macos 自带的 vim 的路径在 `/usr/bin/vim`，而 brew 安装的 vim 在 `/usr/local/bin/vim`。在 `~/.bash_profile` 配置 `alias vim=/usr/local/bin/vim` 使 brew 安装的 vim 覆盖 Macos 自带的 vim。

## 快捷键

- 多行编辑: 列编辑
    - `ctrl +v 开启列编辑`
    - 使用 hjkl 和 $^ 等选择要编辑的位置, 比如 `$` 就可以跳到行尾.
        - 注意, 使用 `vi}/]` 这种选择的没有效果.
    - 使用 A 或者 `I` 进入编辑模式, 编辑.
    - ESC 退出.
- 复制
    - 复制整行, 无论光标的位置: `Y`
- 查找与替换

    ## 查找

    `/` 是查找模式

- vim 中的正则表达式

    不同点:

    注意: `\+` 表示匹配一个至多个, 但是一般语言是使用 `+` 没有反斜杠.

    ![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ab39173e-854a-43e4-85c7-e61d168442ed/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ab39173e-854a-43e4-85c7-e61d168442ed/Untitled.png)

[陈昊vim](https://www.notion.so/vim-36348bfd03044606889583531ea31a18)

- vim 快捷键

    ## 跳转

    - 到行首, 0 或者 ^
    - 到行尾, $
    - 成对括号, 匹配另一个(光标要在其中一个), %

    ## 选中

    - 选中一个词, 光标在词中间, `viw`
    - 选中一个词, 光标在词首, `vw`
    - 从当前到 `",},)`, `vi ",},)`
    - `i` 在这个模式下表示 in
    - `a` 表示 all 整个.
- 重复上一个命令
    - 使用 `.` 可以重复上一个命令.
- 使用宏

    ## 录制宏

    1. q + 宏名, 然后就开始录制了.
    2. 再次按 q, 就停止录制了.

    ## 调用宏

    - `@宏名`, 运行 1 次
    - `n@宏名`, 运行 n 次
- 分屏: :split 和 vsplit.
    - 屏幕切换, `ctrl+w` 配合 hjkl
- 大小写转换
    - 单个字母大小写转换, `~` (ctrl+`才可以打出这个字母)
    - guw（gue）    将当前单词转换成小写
    - gUw （gUe）   将当前单词转换成大写
- r 的替换模式
    - r, 精确**替换一个字符**（不进入输入模式）。
    - R **替换多个字符**（以覆盖方式替换）。（先将光标移动到希望开始替换的位置，然后输入R。切换到输入模式，随后键入的每个字符都将替换当前行上的一个字符。）
    - 在大 R 模式下使用 `ctrl+R 然后选择 0, 可以把寄存器中的内容粘贴出来, 替换当前的字符.`
- `viwp, 选中当前的词,然后粘贴, 达到替换的目的.`
- marks
    - m+大写字母, 可以跨文件跳转
    - m+小写字母, 文件内跳转.
    - `:marks` 查看所有 mark
    - `:deletemark` 删除 mark.
